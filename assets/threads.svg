<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 300" width="900" height="300">
  <defs>
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0d1117"/>
      <stop offset="100%" style="stop-color:#161b22"/>
    </linearGradient>
  </defs>
  <rect width="900" height="300" fill="url(#bg)" rx="12"/>
  <text x="450" y="30" font-family="'Segoe UI', sans-serif" font-size="17" font-weight="700" text-anchor="middle" fill="#f0f6fc">ğŸ§µ Thread Isolation Model</text>

  <!-- UltimateRAGSystem box at top -->
  <rect x="300" y="46" width="300" height="40" rx="8" fill="#21262d" stroke="#4285F4" stroke-width="2"/>
  <text x="450" y="71" font-family="monospace" font-size="13" font-weight="700" text-anchor="middle" fill="#4285F4">ğŸ¯ UltimateRAGSystem</text>

  <!-- Lines down to threads -->
  <line x1="200" y1="86" x2="200" y2="116" stroke="#8b949e" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="450" y1="86" x2="450" y2="116" stroke="#8b949e" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="700" y1="86" x2="700" y2="116" stroke="#8b949e" stroke-width="1.5" stroke-dasharray="4,3"/>
  <!-- Connector from box corners -->
  <line x1="300" y1="66" x2="200" y2="66" stroke="#8b949e" stroke-width="1" stroke-dasharray="4,3"/>
  <line x1="600" y1="66" x2="700" y2="66" stroke="#8b949e" stroke-width="1" stroke-dasharray="4,3"/>

  <!-- Thread 1 -->
  <rect x="60" y="116" width="280" height="150" rx="8" fill="#161b22" stroke="#22C55E" stroke-width="2"/>
  <text x="200" y="140" font-family="monospace" font-size="12" font-weight="700" text-anchor="middle" fill="#22C55E">ğŸ§µ Thread A: "Research"</text>
  <rect x="75" y="150" width="250" height="22" rx="4" fill="#22C55E15"/>
  <text x="200" y="165" font-family="monospace" font-size="9" text-anchor="middle" fill="#22C55E">ğŸ“„ paper1.pdf Â· paper2.pdf</text>
  <rect x="75" y="178" width="250" height="22" rx="4" fill="#22C55E15"/>
  <text x="200" y="193" font-family="monospace" font-size="9" text-anchor="middle" fill="#22C55E">ğŸ—„ï¸ chroma_db_threads/uuid-A/</text>
  <rect x="75" y="206" width="250" height="22" rx="4" fill="#22C55E15"/>
  <text x="200" y="221" font-family="monospace" font-size="9" text-anchor="middle" fill="#22C55E">ğŸ’¬ Chat history A</text>
  <rect x="75" y="234" width="250" height="22" rx="4" fill="#22C55E15"/>
  <text x="200" y="249" font-family="monospace" font-size="9" text-anchor="middle" fill="#22C55E">âš¡ Semantic cache A</text>

  <!-- Thread 2 -->
  <rect x="310" y="116" width="280" height="150" rx="8" fill="#161b22" stroke="#4285F4" stroke-width="2"/>
  <text x="450" y="140" font-family="monospace" font-size="12" font-weight="700" text-anchor="middle" fill="#4285F4">ğŸ§µ Thread B: "Legal"</text>
  <rect x="325" y="150" width="250" height="22" rx="4" fill="#4285F415"/>
  <text x="450" y="165" font-family="monospace" font-size="9" text-anchor="middle" fill="#4285F4">ğŸ“„ contract.pdf Â· terms.docx</text>
  <rect x="325" y="178" width="250" height="22" rx="4" fill="#4285F415"/>
  <text x="450" y="193" font-family="monospace" font-size="9" text-anchor="middle" fill="#4285F4">ğŸ—„ï¸ chroma_db_threads/uuid-B/</text>
  <rect x="325" y="206" width="250" height="22" rx="4" fill="#4285F415"/>
  <text x="450" y="221" font-family="monospace" font-size="9" text-anchor="middle" fill="#4285F4">ğŸ’¬ Chat history B</text>
  <rect x="325" y="234" width="250" height="22" rx="4" fill="#4285F415"/>
  <text x="450" y="249" font-family="monospace" font-size="9" text-anchor="middle" fill="#4285F4">âš¡ Semantic cache B</text>

  <!-- Thread 3 -->
  <rect x="560" y="116" width="280" height="150" rx="8" fill="#161b22" stroke="#6C3EEB" stroke-width="2"/>
  <text x="700" y="140" font-family="monospace" font-size="12" font-weight="700" text-anchor="middle" fill="#6C3EEB">ğŸ§µ Thread C: "HR"</text>
  <rect x="575" y="150" width="250" height="22" rx="4" fill="#6C3EEB15"/>
  <text x="700" y="165" font-family="monospace" font-size="9" text-anchor="middle" fill="#6C3EEB">ğŸ“„ handbook.pdf Â· policy.txt</text>
  <rect x="575" y="178" width="250" height="22" rx="4" fill="#6C3EEB15"/>
  <text x="700" y="193" font-family="monospace" font-size="9" text-anchor="middle" fill="#6C3EEB">ğŸ—„ï¸ chroma_db_threads/uuid-C/</text>
  <rect x="575" y="206" width="250" height="22" rx="4" fill="#6C3EEB15"/>
  <text x="700" y="221" font-family="monospace" font-size="9" text-anchor="middle" fill="#6C3EEB">ğŸ’¬ Chat history C</text>
  <rect x="575" y="234" width="250" height="22" rx="4" fill="#6C3EEB15"/>
  <text x="700" y="249" font-family="monospace" font-size="9" text-anchor="middle" fill="#6C3EEB">âš¡ Semantic cache C</text>

  <!-- No cross-contamination -->
  <text x="450" y="285" font-family="monospace" font-size="9" text-anchor="middle" fill="#8b949e">ğŸ”’ Threads are fully isolated â€” documents, vector stores, history, and cache never cross-contaminate</text>
</svg>
